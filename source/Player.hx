package;

import KKSprite;
import flixel.FlxG;
import flixel.math.FlxPoint;

class Player extends KKSprite
{
	var intendedAnim:String = "idle";
	var isRunning:Bool = false;

	override public function new(x:Float, y:Float)
	{
		super(x, y, "player", true);

		this.addAnim("idle", "idle", new FlxPoint(0, 0), 24, true);
		this.addAnim("run", "stop running :nerd:", new FlxPoint(0, 0), 24, true);
		this.playAnim("idle");
	}

	override public function update(elapsed:Float)
	{
		super.update(elapsed);

		if (FlxG.keys.pressed.LEFT)
		{
			isRunning = true;
			this.x = this.x - 5;
			intendedAnim = "run";
			this.flipX = true;
		}
		else if (FlxG.keys.pressed.RIGHT)
		{
			isRunning = true;
			this.x = this.x + 5;
			intendedAnim = "run";
			this.flipX = false;
		}
		if (FlxG.keys.pressed.UP)
		{
			isRunning = true;
			this.y = this.y - 5;
			intendedAnim = "run";
		}
		else if (FlxG.keys.pressed.DOWN)
		{
			isRunning = true;
			this.y = this.y + 5;
			intendedAnim = "run";
		}
		if (!FlxG.keys.pressed.LEFT && !FlxG.keys.pressed.RIGHT && !FlxG.keys.pressed.DOWN && !FlxG.keys.pressed.UP && isRunning)
		{
			isRunning = false;
			intendedAnim = "idle";
		}

		if (flipX && intendedAnim != "idle")
			this.offset.set(50, 0);
		else
			this.offset.set(0, 0);

		if (this.animation.curAnim.name != intendedAnim)
		{
			this.animation.play(intendedAnim, true);
		}
	}
}
/*  ⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⢀⣀⡀⠄⠄⠄⠄⠄⠄⠄⠄⣀⣀⣀⠄⠄⠄⠄⠄⠄⢰⠄⠄⠄⠄⠄⠄⠄⠄⣀⡀⠄⠄⠄⠄⠄⠄
	⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⡰⠖⠛⠛⠒⠂⠄⠄⠄⠄⠄⢀⣉⡉⠉⠙⠳⠶⠤⠤⠶⠚⠋⠉⠄⣀⣈⣉⠒⠢⢤⣤⣤⡼⠶⠤⠐⠠⢤⣴⠖⠛⠁⠄⠄⠄⠄⠄⠄⠄
	⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⢸⠁⠄⠄⠄⠄⣴⣦⠄⠄⠄⠄⠈⡉⡿⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⢸⠋⡉⠙⠄⠄⠄⠄⠄⠄⢀⣀⡀⠄⠄⠈⣷⠄⢀⡄⠄⠄⠄⠄⠄⢀
	⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠸⠄⠄⣀⠄⠄⠛⠁⠄⠄⠄⣠⡾⠁⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⢹⣄⠄⠄⠄⠄⠄⠄⠈⠻⠟⠄⠄⢀⡏⠄⡾⠄⠄⠄⠄⠄⠄⠄
	⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⢀⣠⣤⣶⣿⣍⣀⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⣀⠄⠄⠈⠙⢳⣦⣄⣀⣀⠄⠄⠄⠄⠄⢀⡞⠄⠄⣧⠄⠄⠄⠄⣤⠄⠄
	⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⡰⠛⠛⣿⣿⣿⣿⣿⣿⣿⣿⣿⣶⣄⠄⠄⠄⠄⠄⠄⠠⠊⠄⣀⣤⣾⣿⣿⣿⣿⣿⣿⣿⡛⠛⠻⠟⠛⡆⠄⠄⠘⠷⣤⣤⣼⠟⠄⠄
	⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⡄⠄⢠⣾⣿⣿⣿⣿⣿⣿⡿⠟⠠⣻⣿⣧⡀⠄⠄⠄⠐⠁⢠⣾⣿⣿⣿⣿⣿⣿⣷⡾⣟⣿⣿⣄⠄⠄⢠⠆⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
	⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⢰⠁⢀⣿⣿⣿⣿⣿⣿⣿⣿⡄⠄⠄⣿⣿⣿⣧⠄⠄⣤⠄⢠⣿⡿⣼⣿⣿⣿⣿⣿⠁⠄⠈⣷⣽⣿⣆⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
	⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⡞⠄⢸⣿⠅⣿⣿⣿⣿⣿⣿⣿⣷⣿⣿⣿⣹⣿⠄⠄⡟⠄⢸⣿⠷⣿⣿⣿⣿⣿⣿⣷⣦⣾⣿⣧⣼⣿⠄⠄⢰⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
	⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⣇⠄⠸⣏⡠⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡟⣿⡿⠄⢀⡇⠄⢸⣿⡀⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣟⣿⣿⠄⠄⡸⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
	⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⢻⡀⠄⠻⣷⣄⠿⣿⣿⣿⣿⣿⣿⣿⡛⢷⣿⠃⠄⣼⣧⠄⠈⢿⣆⠙⣿⣿⣿⣿⣿⣿⣿⣿⠟⢩⣿⠃⠄⢀⠇⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄ 
	⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⢳⡀⠄⠙⢿⣄⡈⣹⠛⠛⠛⣉⣀⣿⠟⠁⢠⣾⡇⠘⣧⡀⠈⠻⣶⣯⠙⢻⠿⠿⠟⣟⢻⣀⡿⠋⠄⣠⠟⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
	⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⢹⣦⣀⠄⠈⠙⠛⠛⠛⠛⠛⠋⠁⣠⣴⣿⣿⡇⠰⣿⣷⣤⡀⠈⠙⠻⠾⠾⠶⠶⠿⠟⠉⠄⣠⠔⢻⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
	⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⢸⣿⣿⣿⣷⣶⣶⣤⣤⣤⣴⣶⣿⣿⠛⣿⣿⡇⠄⡏⠙⢻⣿⣷⣶⣤⣄⣀⣀⣠⣤⣤⠶⠛⠁⢠⡾⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
	⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⢸⣿⠉⠛⠿⠿⠿⠟⠛⠛⠛⠛⠋⠁⠄⢸⣿⡇⠄⡇⠄⠄⠈⠙⠛⠻⠿⠉⠁⠄⠁⠄⠄⠄⠄⣾⡇⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
	⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⣼⠃⠄⠄⢠⣄⠄⠄⠄⠄⠄⠄⠄⢀⣴⣾⣿⡇⠄⣧⣄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⣻⡇⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
	⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⢰⣿⣄⠄⠄⠄⠁⠄⠄⠄⠄⠄⠄⢀⡞⢁⣾⣿⠃⠄⡿⠙⢷⡀⠄⠄⠄⠄⠄⠄⠄⠄⠄⣶⡆⢀⣿⡇⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
	⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠈⢻⣿⡆⠄⠄⣤⣤⣄⠄⠄⠄⠄⡾⠄⠄⣿⣿⠄⠄⡇⠄⠄⠇⢀⠄⠄⠄⠄⠄⠄⠄⠄⠉⢡⠿⣿⡁⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⢀
	⢐⢈⢀⣠⠄⠄⣤⠄⣤⣤⣶⣿⡿⡼⠁⠄⠄⠄⠙⠻⠛⠁⠄⠄⣦⣡⠆⠄⣿⣿⠄⠄⠁⠄⢰⣠⠞⠄⠄⠄⠄⠄⠄⠄⠄⠄⢸⠄⢹⡇⠄⠄⠄⠄⠄⠄⠄⢀⡀⠄⠄⢸
	⢘⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠟⠄⠃⠄⠄⡐⠒⠂⠄⠐⠒⠄⠴⠞⠛⠓⠒⢿⣿⠄⠄⡶⠄⠄⠄⠐⠒⠒⠒⠄⠠⠤⠤⢄⣀⠆⠄⠸⡇⢀⣤⣶⣦⡆⠄⠄⣿⡏⠄⠄⢸
	⣸⣿⣿⣿⣿⣿⣿⣿⣿⡿⠁⠄⠄⣿⣿⡿⢧⣀⣀⣀⣀⡀⠄⠄⠄⠄⠄⠄⢀⡟⠄⠄⡀⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠻⣷⡶⠚⢁⣾⣿⣿⣿⡗⢀⣴⣽⣿⠄⠄⢸
	⣿⣿⣿⣿⣿⣿⣿⣿⣾⠄⠄⣤⣾⣿⣿⡇⢸⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡇⠄⠄⣿⣿⣿⣿⣿⣶⣾⣷⣶⣶⣶⣶⣶⡇⣿⡧⣰⣿⣿⣿⣿⠏⠁⠄⣿⣿⣿⡇⠄⣾
	⠄⠈⠉⠉⠉⠁⠄⠄⠄⠄⠘⠛⠛⠛⠛⣧⣸⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣀⣠⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡇⣿⣿⣿⣿⣿⣇⡉⠄⠄⠄⣽⣿⡿⠄⣠⣿
	⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⡟⠹⣿⠟⢿⣿⣿⣿⣿⣿⣿⣿⡿⠿⠿⠿⠿⠿⠿⠿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡇⡏⠄⠄⠄⠄⠄⠄⠄⠄⠄⠙⠛⠃⠄⠉⠉
	⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⢰⢠⡄⡟⠄⠸⢿⣿⣿⣿⣿⣿⣿⣇⠄⠄⠄⠄⠄⠄⠄⠿⣿⣿⣿⣿⣿⡇⠄⠄⡟⢀⠱⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
	⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠘⣎⣷⡅⠄⠄⠄⠄⢸⠁⡉⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⢸⠉⠋⠄⠄⠄⠄⣇⣿⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
	⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⢿⣌⠄⠄⠄⠄⠄⠠⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⢸⠤⠄⠄⠄⠄⠄⢸⡇⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
	⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠁⠄⠄⠄⠄⠄⠸⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠐⠄⠄⠄⠄⠄⠄⠄⠁⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
	⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⣀⡀⠄⢀⣀⠄⣀⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⡀⢀⡀⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
	⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⢰⣿⣯⣿⣶⣿⣿⣶⣿⡆⠄⠄⠄⠄⠄⠄⠄⠄⠄⢠⣾⣷⣼⣿⣆⣤⡶⠶⡀⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
	⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠈⢿⣿⣿⡿⠿⢿⣿⡿⠁⠄⠄⠄⠄⠄⠄⠄⠄⠄⠸⣿⣿⣿⣿⣿⣿⣿⣾⠇⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄ */
